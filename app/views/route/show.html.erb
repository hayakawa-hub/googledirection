
<div>

★結果★<br />
<div id="results" style="width: 100%; height: 200px; border: 1px dotted; padding: 10px; overflow-y: scroll;"></div>
</div>

<%= link_to '一覧に戻る', '/route'%>

<script type="text/javascript">

window.onload=function getRoute(){




var directionsService = new google.maps.DirectionsService();

directionsService.route({
    origin:gon.depature_place,
    destination:gon.destination_place,
    travelMode:gon.transition_method
}, displayResults
);

}


function displayResults(response,status){
console.log(response.routes[0].legs[0].distance.text);
console.log(response.routes[0].legs[0].duration.text);


if(status == google.maps.places.PlacesServiceStatus.OK){
const duration = response.routes[0].legs[0].duration.text;
const distance  = response.routes[0].legs[0].distance.text;

let words = '【出発地】'+gon.depature_place+'\n'+'【目的地】'+gon.destination_place+'\n'+'【所要時間】' + duration + '\n' +
             '【移動距離】　' + distance + '\n';

document.getElementById("results").innerHTML =words

}

}

</script>